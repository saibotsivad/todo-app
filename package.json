{
  "name": "todojournal",
  "private": true,
  "version": "0.0.0",
  "engines": {
    "node": "16.0.0"
  },
  "type": "module",
  "scripts": {
    "---project-start": "------------------only run during Cloudflare/AWS initialization",
    "kv:add-api": "cd deploy/cloudflare-api && wrangler kv:namespace create TODO_JOURNAL --env=develop && wrangler kv:namespace create TODO_JOURNAL --env=production",
    "kv:add-static": "cd deploy/cloudflare-static && wrangler kv:namespace create TODO_JOURNAL --env=develop && wrangler kv:namespace create TODO_JOURNAL --env=production",
    "kv:list-namespaces": "cd deploy/cloudflare-static && wrangler kv:namespace list",
    "kv:sample-put": "cd deploy/cloudflare-static && wrangler kv:key put --binding=STATIC_ASSET \"index.html\" \"value\"",
    "---setup": "---------------------------------",
    "setup": "run-p setup:* glob:*",
    "setup:cloudflare-api": "rimraf app/cloudflare-api/node_modules && mkdirp app/cloudflare-api/node_modules/@ && symlink _shared app/cloudflare-api/node_modules/@/shared && cd app/cloudflare-api && symlink _lib node_modules/@/lib && symlink _service node_modules/@/service",
    "setup:website": "rimraf app/website/node_modules && mkdirp app/website/node_modules/@ && symlink _shared app/website/node_modules/@/shared && cd app/website && symlink _lib node_modules/@/lib && symlink _component node_modules/@/component && symlink _service node_modules/@/service",
    "setup:swagger-ui": "rimraf deploy/cloudflare-static/public/docs && ncp node_modules/swagger-ui-dist deploy/cloudflare-static/public/docs",
    "glob:server-routes": "glob-module-file --cwd=\"app/cloudflare-api\" --pattern=\"route/**/*.route.js\" --format=es --exportWithPath --importStar --pathPrefix=\"./\" --outputPath=\"app/cloudflare-api/globbed-routes.js\"",
    "glob:client-routes": "glob-module-file --cwd=\"app/website\" --pattern=\"route/**/*.route.js\" --format=es --exportWithPath --pathPrefix=\"./\" --outputPath=\"app/website/globbed-routes.js\"",
    "---build": "---------------------------------",
    "prebuild": "npm run setup",
    "build": "rollup -c",
    "---deploy-to-qa": "---------------------------------",
    "predeploy": "npm run build",
    "deploy": "run-p deploy:*",
    "deploy:cloudflare-api": "cd deploy/cloudflare-api && wrangler publish --env=develop",
    "deploy:cloudflare-static": "cd deploy/cloudflare-static && wrangler publish --env=develop",
    "deploy:aws-services": "cd deploy/aws-services && serverless deploy --stage=develop",
    "---release-to-prod": "---------------------------------",
    "prerelease": "npm run build",
    "release": "run-p release:*",
    "release:cloudflare-api": "cd deploy/cloudflare-api && wrangler publish --env=production",
    "release:cloudflare-static": "cd deploy/cloudflare-static && wrangler publish --env=production",
    "release:aws-services": "cd deploy/aws-services && serverless deploy --stage=production",
    "---test-functional": "---------------------------------",
    "test": "npm-run-all --parallel test:lint test:unit",
    "test:lint": "eslint \"**/*.js\"",
    "test:unit": "uvu app '\\.test\\.js$'",
    "---test-integration": "---------------------------------",
    "integration": "uvu integration 'runner.js'",
    "---local": "---------------------------------",
    "dev": "export DEVELOPMENT=true && run-p watch:*",
    "wrangle:api": "cd deploy/cloudflare-api && wrangler dev --env=local",
    "wrangle:static": "cd deploy/cloudflare-static && wrangler dev --env=local",
    "watch:js": "rollup -c -w",
    "watch:glob-client-routes": "chokidar \"client/route/**/*.js\" -c \"npm run glob:client-routes\"",
    "watch:glob-server-routes": "chokidar \"server/route/**/*.js\" -c \"npm run glob:server-routes && node generate-openapi.js\"",
    "watch:glob-server-models": "chokidar \"server/lib/model/**/*.js\" -c \"npm run glob:server-models && node generate-openapi.js\"",
    "start": "run-p start:*",
    "start:docker": "cd deploy/docker-dynamodb && docker compose up",
    "start:api": "export LOG_LEVEL=debug && node initialize-local-dynamodb.js && node app/cloudflare-api/local-development.js"
  },
  "dependencies": {
    "@cloudflare/kv-asset-handler": "^0.1.1",
    "@cloudflare/wrangler": "^1.16.1",
    "@rollup/plugin-alias": "^3.1.2",
    "@rollup/plugin-commonjs": "^17.0.0",
    "@rollup/plugin-json": "^4.1.0",
    "@rollup/plugin-node-resolve": "^11.0.0",
    "abstract-state-router": "^6.1.0",
    "ajv": "^6.12.6",
    "body-parser": "^1.19.0",
    "chokidar-cli": "^2.1.0",
    "compression": "^1.7.4",
    "dlv": "^1.1.3",
    "glob-module-file": "^3.0.2",
    "got": "^11.8.1",
    "js-yaml": "^3.14.1",
    "mime": "^2.5.2",
    "mkdirp": "^1.0.4",
    "ncp": "^2.0.0",
    "node-fetch": "^2.6.1",
    "npm-run-all": "^4.1.5",
    "polka": "^0.5.2",
    "querystring": "^0.2.0",
    "rimraf": "^3.0.2",
    "rollup": "^2.42.0",
    "rollup-plugin-css-only": "^3.1.0",
    "rollup-plugin-livereload": "^2.0.0",
    "rollup-plugin-npm-run": "^1.0.2",
    "rollup-plugin-string": "^3.0.0",
    "rollup-plugin-svelte": "^7.0.0",
    "rollup-plugin-terser": "^7.0.0",
    "rollup-pluginutils": "^2.8.2",
    "serve-static": "^1.14.1",
    "serverless": "^2.39.2",
    "serverless-http": "^2.7.0",
    "sign-aws-requests": "^1.0.1",
    "sirv": "^1.0.11",
    "sirv-cli": "^1.0.11",
    "source-map-support": "^0.5.19",
    "svelte": "^3.0.0",
    "svelte-state-renderer": "^3.0.1",
    "swagger-ui-dist": "^3.42.0",
    "symlink-cli": "^1.0.0",
    "tree-kill": "^1.2.2",
    "trouter": "^3.2.0",
    "uvu": "^0.5.1",
    "worktop": "^0.6.3"
  },
  "devDependencies": {
    "eslint": "^7.24.0",
    "eslint-plugin-svelte3": "^3.1.2"
  }
}
